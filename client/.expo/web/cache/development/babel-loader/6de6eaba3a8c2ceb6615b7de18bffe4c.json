{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\mouhi\\\\OneDrive\\\\Bureau\\\\master\\\\client\\\\screens\\\\Home.js\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Card, Button } from \"react-native-elements\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport axios from \"axios\";\nvar width_proportion = \"60%\";\nvar height_proportion = \"20%\";\nexport default function App(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      id = _useState2[0],\n      setid = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pwd = _useState4[0],\n      setpwd = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataSource = _useState6[0],\n      setData = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setloading = _useState8[1];\n\n  useEffect(function () {\n    axios.post(\"http://localhost:3000/api/user/login\", {\n      mail: id,\n      password: pwd\n    }).then(function (res) {\n      setData(res.data);\n    });\n\n    if (loading) {\n      if (dataSource == \"mail doesnt exist\") {\n        alert(dataSource);\n        setloading(false);\n      } else if (dataSource == \"invalid password\") {\n        alert(dataSource);\n        setloading(false);\n      } else if (dataSource.role == \"Admin\") {\n        setloading(false);\n        navigation.navigate(\"Admin\", {\n          id: id\n        });\n      } else if (dataSource.role == \"User\") {\n        setloading(false);\n        alert(\"user ui not set yet\");\n      }\n    }\n  });\n\n  var pressHandler = function pressHandler() {\n    axios.post(\"http://localhost:3000/api/user/login\", {\n      mail: id,\n      password: pwd\n    }).then(function (res) {\n      setData(res.data);\n      setloading(true);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.b,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"NGI GPS\"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"v1.0\"), React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), React.createElement(Image, {\n    style: styles.logo,\n    source: require(\"../assets/logo.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    styles: styles.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Welcome to our services\"), React.createElement(Card.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      marginTop: 20,\n      marginRight: 12,\n      alignItems: \"center\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"User ID\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"e.g HG45\",\n    onChangeText: function onChangeText(val) {\n      return setid(val);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      marginTop: 20,\n      alignItems: \"center\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, \"User Pass\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"*****\",\n    onChangeText: function onChangeText(val) {\n      return setpwd(val);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  })), React.createElement(Button, {\n    icon: React.createElement(Icon, {\n      name: \"user\",\n      color: \"#ffffff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }),\n    buttonStyle: {\n      borderRadius: 0,\n      marginLeft: 0,\n      marginRight: 0,\n      marginBottom: 0,\n      marginTop: 20\n    },\n    title: \"Login\",\n    onPress: pressHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  })))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\"\n  },\n  logo: {\n    margin: 20,\n    width: width_proportion,\n    height: height_proportion\n  },\n  b: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 50\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: \"#777\",\n    padding: 8,\n    margin: 10,\n    width: 200,\n    borderRadius: 10\n  }\n});","map":{"version":3,"sources":["C:/Users/mouhi/OneDrive/Bureau/master/client/screens/Home.js"],"names":["StatusBar","React","useState","useEffect","Card","Button","Icon","axios","width_proportion","height_proportion","App","navigation","id","setid","pwd","setpwd","dataSource","setData","loading","setloading","post","mail","password","then","res","data","alert","role","navigate","pressHandler","styles","container","b","fontWeight","fontSize","logo","require","body","flexDirection","marginTop","marginRight","alignItems","textAlign","input","val","borderRadius","marginLeft","marginBottom","StyleSheet","create","flex","backgroundColor","margin","width","height","borderWidth","borderColor","padding"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, Text, View, Image, TextInput } from \"react-native\";\r\nimport { Card, Button } from \"react-native-elements\";\r\nimport Icon from \"react-native-vector-icons/FontAwesome\";\r\nimport axios from \"axios\";\r\nconst width_proportion = \"60%\";\r\nconst height_proportion = \"20%\";\r\n\r\nexport default function App({ navigation }) {\r\n  const [id, setid] = useState();\r\n  const [pwd, setpwd] = useState();\r\n  const [dataSource, setData] = useState();\r\n  const [loading, setloading] = useState(false);\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"http://localhost:3000/api/user/login\", {\r\n        mail: id,\r\n        password: pwd,\r\n      })\r\n      .then((res) => {\r\n        setData(res.data);\r\n      });\r\n\r\n    if (loading) {\r\n      if (dataSource == \"mail doesnt exist\") {\r\n        alert(dataSource);\r\n        setloading(false);\r\n      } else if (dataSource == \"invalid password\") {\r\n        alert(dataSource);\r\n        setloading(false);\r\n      } else if (dataSource.role == \"Admin\") {\r\n        setloading(false);\r\n        navigation.navigate(\"Admin\", { id: id });\r\n      } else if (dataSource.role == \"User\") {\r\n        setloading(false);\r\n        alert(\"user ui not set yet\");\r\n        /*  navigation.navigate(\"Admin\", { id: id }); */\r\n      }\r\n    }\r\n  });\r\n\r\n  const pressHandler = () => {\r\n    axios\r\n      .post(\"http://localhost:3000/api/user/login\", {\r\n        mail: id,\r\n        password: pwd,\r\n      })\r\n      .then((res) => {\r\n        setData(res.data);\r\n        setloading(true);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.b}>\r\n        <Text style={{ fontWeight: \"bold\", fontSize: 30 }}>NGI GPS</Text>\r\n        <Text>v1.0</Text>\r\n        <StatusBar style=\"auto\" />\r\n        <Image style={styles.logo} source={require(\"../assets/logo.png\")} />\r\n        <View styles={styles.body}>\r\n          <Card>\r\n            <Card.Title>Welcome to our services</Card.Title>\r\n            <Card.Divider />\r\n            <View style={{ flexDirection: \"row\" }}>\r\n              <Text\r\n                style={{\r\n                  marginTop: 20,\r\n                  marginRight: 12,\r\n                  alignItems: \"center\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                User ID\r\n              </Text>\r\n              <TextInput\r\n                style={styles.input}\r\n                placeholder=\"e.g HG45\"\r\n                onChangeText={(val) => setid(val)}\r\n              />\r\n            </View>\r\n            <View style={{ flexDirection: \"row\" }}>\r\n              <Text\r\n                style={{\r\n                  marginTop: 20,\r\n                  alignItems: \"center\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                User Pass\r\n              </Text>\r\n              <TextInput\r\n                style={styles.input}\r\n                placeholder=\"*****\"\r\n                onChangeText={(val) => setpwd(val)}\r\n              />\r\n            </View>\r\n\r\n            <Button\r\n              icon={<Icon name=\"user\" color=\"#ffffff\" />}\r\n              buttonStyle={{\r\n                borderRadius: 0,\r\n                marginLeft: 0,\r\n                marginRight: 0,\r\n                marginBottom: 0,\r\n                marginTop: 20,\r\n              }}\r\n              title=\"Login\"\r\n              onPress={pressHandler}\r\n            />\r\n          </Card>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#fff\",\r\n    alignItems: \"center\",\r\n  },\r\n  logo: {\r\n    margin: 20,\r\n    width: width_proportion,\r\n    height: height_proportion,\r\n  },\r\n  b: {\r\n    flex: 1,\r\n\r\n    alignItems: \"center\",\r\n\r\n    marginTop: 50,\r\n  },\r\n  input: {\r\n    borderWidth: 1,\r\n    borderColor: \"#777\",\r\n    padding: 8,\r\n    margin: 10,\r\n    width: 200,\r\n    borderRadius: 10,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}