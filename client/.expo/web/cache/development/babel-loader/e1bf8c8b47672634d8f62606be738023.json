{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StylesProvider } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport axios from 'axios';\nexport default function Login(props) {\n  var _useState = useState(props.id),\n      _useState2 = _slicedToArray(_useState, 2),\n      id = _useState2[0],\n      setid = _useState2[1];\n\n  var _useState3 = useState(props.password),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setpwd = _useState4[1];\n\n  var _useState5 = useState(props.mail),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mail = _useState6[0],\n      setmail = _useState6[1];\n\n  var _useState7 = useState(props.navigation),\n      _useState8 = _slicedToArray(_useState7, 2),\n      navigation = _useState8[0],\n      setnavigation = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dataSource = _useState10[0],\n      setData = _useState10[1];\n\n  useEffect(function () {\n    axios.post('http://localhost:3000/api/user/login', {\n      mail: mail,\n      password: password\n    }).then(function (res) {\n      setData(res.data);\n      console.log(dataSource);\n    });\n  });\n\n  if (dataSource == 'invalid password') {\n    alert('invalid password');\n    return null;\n  } else {\n    if (dataSource == 'mail doesnt exist') {\n      alert('mail doesnt exist');\n      return null;\n    } else {\n      if (dataSource == 'Connected') {\n        return null;\n      }\n\n      return null;\n    }\n\n    return null;\n  }\n}\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 30,\n    alignItems: 'center',\n    paddingTop: 15,\n    backgroundColor: '#fff'\n  },\n  item: {\n    flex: 1,\n    marginTop: 10,\n    padding: 15,\n    alignSelf: 'stretch',\n    margin: 10,\n    alignItems: 'left',\n    justifyContent: 'center',\n    borderBottomWidth: 1,\n    backgroundColor: 'steelblue',\n    borderBottomColor: '#eee'\n  }\n});","map":{"version":3,"sources":["C:/Users/mouhi/OneDrive/Bureau/i swear this is the last one/maybelastone/comp/Login.js"],"names":["StylesProvider","React","useState","useEffect","axios","Login","props","id","setid","password","setpwd","mail","setmail","navigation","setnavigation","dataSource","setData","post","then","res","data","console","log","alert","styles","StyleSheet","create","container","flex","marginTop","alignItems","paddingTop","backgroundColor","item","padding","alignSelf","margin","justifyContent","borderBottomWidth","borderBottomColor"],"mappings":";AAAA,SAASA,cAAT,QAA+B,mBAA/B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA2C,OAA3C;;;;;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAIC,eAAe,SAASC,KAAT,CAAgBC,KAAhB,EAAuB;AAAA,kBAEfJ,QAAQ,CAACI,KAAK,CAACC,EAAP,CAFO;AAAA;AAAA,MAE5BA,EAF4B;AAAA,MAExBC,KAFwB;;AAAA,mBAGRN,QAAQ,CAACI,KAAK,CAACG,QAAP,CAHA;AAAA;AAAA,MAG5BA,QAH4B;AAAA,MAGlBC,MAHkB;;AAAA,mBAIXR,QAAQ,CAACI,KAAK,CAACK,IAAP,CAJG;AAAA;AAAA,MAI5BA,IAJ4B;AAAA,MAItBC,OAJsB;;AAAA,mBAKCV,QAAQ,CAACI,KAAK,CAACO,UAAP,CALT;AAAA;AAAA,MAK5BA,UAL4B;AAAA,MAKhBC,aALgB;;AAAA,mBAMLZ,QAAQ,CAAC,IAAD,CANH;AAAA;AAAA,MAM5Ba,UAN4B;AAAA,MAMhBC,OANgB;;AASnCb,EAAAA,SAAS,CAAC,YAAM;AAGZC,IAAAA,KAAK,CAACa,IAAN,CAAW,sCAAX,EAAkD;AAC9CN,MAAAA,IAAI,EAAEA,IADwC;AAE9CF,MAAAA,QAAQ,EAAEA;AAFoC,KAAlD,EAGOS,IAHP,CAGY,UAAAC,GAAG,EAAI;AAEbH,MAAAA,OAAO,CAACG,GAAG,CAACC,IAAL,CAAP;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYP,UAAZ;AACD,KAPL;AAyBP,GA5BY,CAAT;;AAgCA,MAAIA,UAAU,IAAI,kBAAlB,EAAsC;AACpCQ,IAAAA,KAAK,CAAC,kBAAD,CAAL;AAEA,WAAQ,IAAR;AACC,GAJH,MAKK;AACD,QAAIR,UAAU,IAAI,mBAAlB,EAAuC;AACnCQ,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACA,aAAQ,IAAR;AACC,KAHL,MAKQ;AACA,UAAIR,UAAU,IAAI,WAAlB,EAA+B;AAE3B,eAAQ,IAAR;AACC;;AAGD,aAAQ,IAAR;AACL;;AACH,WAAQ,IAAR;AAEL;AAMF;AAAA;AASL,IAAMS,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,IAAI,EAAC,CADE;AAEPC,IAAAA,SAAS,EAAC,EAFH;AAGPC,IAAAA,UAAU,EAAE,QAHL;AAIPC,IAAAA,UAAU,EAAC,EAJJ;AAKPC,IAAAA,eAAe,EAAC;AALT,GADkB;AAQ7BC,EAAAA,IAAI,EAAC;AACDL,IAAAA,IAAI,EAAC,CADJ;AAEDC,IAAAA,SAAS,EAAC,EAFT;AAGDK,IAAAA,OAAO,EAAE,EAHR;AAIDC,IAAAA,SAAS,EAAC,SAJT;AAKDC,IAAAA,MAAM,EAAC,EALN;AAMDN,IAAAA,UAAU,EAAC,MANV;AAODO,IAAAA,cAAc,EAAC,QAPd;AAQDC,IAAAA,iBAAiB,EAAC,CARjB;AASDN,IAAAA,eAAe,EAAC,WATf;AAUDO,IAAAA,iBAAiB,EAAC;AAVjB;AARwB,CAAlB,CAAf","sourcesContent":["import { StylesProvider } from '@material-ui/core';\r\nimport React, { useState,useEffect  } from 'react';\r\nimport {StyleSheet, Text, View, ActivityIndicator, ScrollView} from 'react-native';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n export default function Login (props) {\r\n \r\n    const [id, setid] = useState(props.id);\r\n    const [password, setpwd] = useState(props.password);\r\n    const [mail, setmail] = useState(props.mail);\r\n    const [navigation, setnavigation] = useState(props.navigation);\r\n    const [dataSource, setData] = useState(null);\r\n    \r\n    \r\n    useEffect(() => {\r\n\r\n\r\n        axios.post('http://localhost:3000/api/user/login',{\r\n            mail: mail,\r\n            password: password,\r\n            }).then(res => {\r\n             \r\n              setData(res.data)\r\n              console.log(dataSource);\r\n            })\r\n\r\n\r\n\r\n\r\n     /*  const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ \r\n          mail: mail,\r\n          password: password,\r\n         })\r\n    };\r\n    fetch('http://localhost:3000/api/user/login', requestOptions)\r\n    .then(response => response.json())\r\n    .then(responseJson => setData(responseJson)); */\r\n   \r\n   \r\n}, );\r\n\r\n   \r\n    \r\n    if (dataSource == 'invalid password') {\r\n      alert('invalid password')\r\n     \r\n      return (null);\r\n      }\r\n     else{\r\n        if (dataSource == 'mail doesnt exist') {\r\n            alert('mail doesnt exist')\r\n            return (null);\r\n            }\r\n        \r\n            else{\r\n                if (dataSource == 'Connected') {\r\n                  /*   navigation.navigate('Dash',{id:id}) */\r\n                    return (null);\r\n                    }\r\n                  \r\n                \r\n                    return (null);\r\n              }\r\n            return (null);\r\n\r\n      }\r\n\r\n      \r\n      \r\n\r\n  \r\n    };\r\n\r\n\r\n\r\n    \r\n   \r\n    \r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex:1,\r\n        marginTop:30,\r\n        alignItems: 'center',\r\n        paddingTop:15,\r\n        backgroundColor:'#fff',\r\n    },\r\n    item:{\r\n        flex:1,\r\n        marginTop:10,\r\n        padding: 15,\r\n        alignSelf:'stretch',\r\n        margin:10,\r\n        alignItems:'left',\r\n        justifyContent:'center',\r\n        borderBottomWidth:1,\r\n        backgroundColor:'steelblue',\r\n        borderBottomColor:'#eee',\r\n\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}